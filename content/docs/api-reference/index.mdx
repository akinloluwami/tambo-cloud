---
title: API Reference
---

# registerComponent

This function is used to "tell" Hydra about a component, allowing it to be a possible returned component from a `generateComponent` call. This should be called before any `generateComponent` calls are made, usually on app initialization.

```tsx
    hydraClient.registerComponent({
        name: "meetings-list",
        description: "A list of meetings with their details. Use this when the user wants to view all meetings, filter them by date, or search for specific meetings.",
        component: MeetingsListContainer,
        propsDefinition: {
            filters: " 
        },
        contextTools: [getLeadsTool],
        loadingComponent: MeetingsListSkeleton
    }),
```

### Parameters

`name`: `string` **required** 

       The name of the component. This should be unique and descriptive.

`description`: `string` **required** 

        A natural language description of the component that is used to help Hydra understand the component and its purpose, and when it should be used.
       
        If you experience Hydra using one component when you expect another, updating the description of each component to differentiate them usually fixes the issue.

`component`: `React.ComponentType<any>` **required** 

       A reference to the actual component function or class.

`propsDefinition`: `object` **optional** 

        > ðŸ’¡ Note: The size of the props passed into a component impacts Hydra's performance as larger props obects require Hydra to generate more data.   
        >
        > If your component takes a large object or array as a prop, check out this guide to see how you might restructure the component for performance improvements: [Optimizing Component Performance](/docs/getting-started/optimizing-component-performance)

       A definition of the props that the component accepts. When Hydra decides to use this component, it will look at this definition to know what props to pass to the component, and how they should be structured.

       This is an object where the keys are the names of the props, and the values are the types of the props. 

       For example, if the component takes a `name` prop, an `age` prop, and a `tags` array prop, the propsDefinition would be:

       ```tsx
       propsDefinition: {
           name: "string",
           age: "number",
           tags: "string[]" //note that the brackets are within the string
       }
       ```

       If a prop of the component is an object rather than a primitive type, you can define the schema within the string using JSON. For example, if the component takes a `user` prop, which is an object with a `name` and `age` property, the propsDefinition would be:

       ```tsx
       propsDefinition: {
           user: "{name: string, age: number}"
       }
       ```

       When the prop types get more complex and involve nested object types, we recommend using Zod to define the schema. 

       For example, if the component takes a `user` prop, which is an object with a `name` and `age` property, the propsDefinition would be:

       ```tsx
       import { z } from "zod";
       const userSchema = z.object({name: z.string(), age: z.number()});
       .
       .
       .
       propsDefinition: {
           user: userSchema
       }
       ```

       If the component takes no props, this parameter can be left out.

`contextTools`: `ContextTool[]` **optional** 

       A list of function definitions that Hydra can use when this component is chosen to get extra information needed to generate the props. For example, if the component is a "MeetingList" component, the context tools could include a function that gets the list of meetings from the database. Then, when Hydra decides to use this component, it will call the function and use the result to generate the props with real meeting data.

       This parameter should be used when the component's props should not be generated by AI purely based on the user's input, but instead by some real data.

       If the component's props do not depend on any external data, this parameter can be left out.

       Find more information on how to define context tools [here](/docs/getting-started/adding-components#using-context-tools).

`loadingComponent`: `React.ComponentType<any>` **optional** 

       A reference to a component that Hydra will show while it generates the props for the component. For example, if the 'real' component is a list of meetings, the context tool calling and prop generation may take a couple seconds, so Hydra can show a "Skeleton" list component in the meantime.


# generateComponent

This function is used to generate a component based on the user's input. It will return a promise that resolves to a `GenerateComponentResponse` object (described below), which may include a component and a message to display to the user.

```tsx
const response = await hydraClient.generateComponent(
    "I want to see all my meetings for today",
    handleProgressUpdate
);

//display the response.component and response.message somewhere in the UI
```

### Parameters

`input`: `string` **required** 

       The user's input. This is the natural language string that Hydra will use to understand the user's intent and decide which of the registered components (if any) to generate.

`handleProgressUpdate`: `(progress: GenerateComponentResponse) => void` **optional** 

       An optional callback function that Hydra will call at each major step of the component generation. This is useful for displaying loading messages during intermediate steps.

       The GenerateComponentResponse object has a `stage` enum property that can be used to determine the current stage of the component generation, described below.
    
### GenerateComponentResponse object

The `GenerateComponentResponse` object is returned by the `generateComponent` function. 

```tsx
export interface GenerateComponentResponse {
    component?: ReactElement | null;
    message: string;
    stage: GenerationStage;
    loading: boolean;
    suggestedActions?: SuggestedAction[];
}
```

#### Fields

`component`: `ReactElement | null`

       The component to display to the user, or null if the component is still being generated or if Hydra has decided that no registered component is appropriate for the user's input.

`message`: `string`

       A message to display to the user, or the "AI response" to the user's input, which into account the chosen component.

`stage`: `GenerationStage`

       The current stage of the component generation. 
       The possible values for `stage` are:

        - `CHOOSING_COMPONENT`: Hydra is choosing which component to generate based on the user's input.
        - `FETCHING_CONTEXT`: Hydra is fetching additional context for the chosen component using one of the component's context tools.
        - `HYDRATING_COMPONENT`: Hydra is generating the props for the chosen component.
        - `COMPLETE`: Hydra has finished generating the component and the response contains the component and a message to display to the user.

`loading`: `boolean`

       A boolean value that indicates whether the component is still being generated or not.

`suggestedActions`: `SuggestedAction[]`

       A list of suggested "next steps" to display to the user, generated by Hydra based on what the user's intent seems to be. 

       Each suggested action is an object with a `label` and `actionText` property.

       The `label` is the short text to display to the user describing the action, and the `actionText` is the full message to send to Hydra on behalf of the user when they select the action.